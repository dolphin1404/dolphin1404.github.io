<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¤ë¯¸ì‹± ì˜ˆë°© êµìœ¡ ì²´í—˜ê´€</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 18px;
            margin: 0;
            padding: 0;
        }
        
        .page {
            display: none;
            min-height: 100vh;
            background: white;
            overflow-y: auto;
        }
        .page.active {
            display: flex;
            flex-direction: column;
        }
        
        /* ì–´ë¥´ì‹ ìš© í° ê¸€ì í¬ê¸° */
        h1 { font-size: 28px !important; line-height: 1.2; }
        h2 { font-size: 24px !important; line-height: 1.2; }
        h3 { font-size: 22px !important; line-height: 1.2; }
        h4 { font-size: 20px !important; line-height: 1.2; }
        p { font-size: 16px !important; line-height: 1.4; }
        .text-sm { font-size: 14px !important; }
        .text-xs { font-size: 12px !important; }
        .text-lg { font-size: 18px !important; }
        .text-xl { font-size: 20px !important; }
        .text-2xl { font-size: 24px !important; }
        .text-3xl { font-size: 28px !important; }
        
        /* ë²„íŠ¼ í¬ê¸° */
        button {
            min-height: 50px !important;
            font-size: 16px !important;
            font-weight: 600 !important;
            border-radius: 8px !important;
            padding: 12px 16px !important;
        }
        
        /* ì…ë ¥ í•„ë“œ í¬ê¸° */
        input {
            min-height: 50px !important;
            font-size: 16px !important;
            padding: 12px !important;
        }
        
        /* í€´ì¦ˆ ì˜µì…˜ ìŠ¤íƒ€ì¼ */
        .quiz-option {
            transition: all 0.3s ease;
            min-height: 60px !important;
            border-width: 2px !important;
        }
        .quiz-option:hover {
            background-color: #f3f4f6;
            transform: scale(1.02);
        }
        .quiz-option.selected {
            background-color: #dbeafe;
            border-color: #3b82f6;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        
        /* íˆ¬í‘œ ì˜µì…˜ ìŠ¤íƒ€ì¼ */
        .vote-option {
            min-height: 70px !important;
            border-width: 2px !important;
        }
        .vote-option:hover {
            transform: scale(1.02);
        }
        
        /* ì»¨í…Œì´ë„ˆ */
        .container {
            max-width: 100%;
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* í™”ë©´ ìµœì í™” */
        .screen-fit {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 20px;
        }
        
        .content-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .button-section {
            margin-top: auto;
            padding-top: 20px;
        }
        
        /* ê°„ê²© ì¡°ì • */
        .compact-spacing > * + * { margin-top: 12px !important; }
        .mb-compact { margin-bottom: 12px !important; }
        .p-compact { padding: 16px !important; }
        
        /* ê°¤ëŸ­ì‹œ ë¬¸ì ì•± ìŠ¤íƒ€ì¼ - ì™„ì „ ë³µì œ */
        .message-app {
            background: #ffffff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .message-header {
            background: #ffffff;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #e0e0e0;
            min-height: 60px;
            color: #333;
        }
        
        .back-arrow {
            font-size: 20px;
            margin-right: 16px;
            color: #333;
            cursor: pointer;
        }
        
        .contact-info {
            flex: 1;
        }
        
        .contact-name {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin: 0;
            line-height: 1.2;
        }
        
        .contact-number {
            font-size: 13px;
            color: #666;
            margin: 0;
            line-height: 1.2;
        }
        
        .header-icons {
            display: flex;
            gap: 16px;
            font-size: 18px;
            color: #666;
        }
        
        .message-area {
            flex: 1;
            background: #f8f9fa;
            padding: 16px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 8px;
            max-height: 45vh;
        }
        
        .received-message {
            align-self: flex-start;
            max-width: 75%;
            display: flex;
            flex-direction: column;
        }
        
        .sent-message {
            align-self: flex-end;
            max-width: 75%;
            display: flex;
            flex-direction: column;
        }
        
        .message-bubble {
            padding: 12px 16px;
            border-radius: 18px;
            position: relative;
            word-wrap: break-word;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .received-bubble {
            background: #ffffff;
            border: 1px solid #e0e0e0;
            border-bottom-left-radius: 4px;
        }
        
        .sent-bubble {
            background: #007AFF;
            color: white;
            border-bottom-right-radius: 4px;
        }
        
        .sent-message .message-link {
            color: #a8d1ff;
        }
        
        .message-text {
            margin: 0;
        }
        
        .message-link {
            display: block;
            color: #007AFF;
            text-decoration: underline;
            margin-top: 8px;
            font-size: 13px;
        }
        
        .message-time {
            font-size: 11px;
            color: #999;
            margin-top: 4px;
            align-self: flex-start;
        }
        
        .sent-message .message-time {
            align-self: flex-end;
            color: rgba(255,255,255,0.7);
        }
        
        .input-area {
            background: white;
            border-top: 1px solid #e0e0e0;
            padding: 12px;
        }
        
        .quiz-option {
            margin-bottom: 8px;
            transition: all 0.2s ease;
            font-size: 14px !important;
        }
        
        .quiz-option:last-child {
            margin-bottom: 0;
        }
        
        .quiz-option.selected {
            transform: scale(0.98);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .quiz-header {
            background: #f8f9fa;
            padding: 6px 16px;
            text-align: center;
            border-bottom: 1px solid #e0e0e0;
            font-size: 12px;
            color: #666;
            font-weight: 500;
            min-height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .input-area {
            background: #ffffff;
            padding: 12px 16px;
            border-top: 1px solid #e0e0e0;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        /* ì§„ë™ íš¨ê³¼ */
        .shake {
            animation: shake 0.6s ease-in-out;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        /* í•´ì„¤ ë°•ìŠ¤ ì• ë‹ˆë©”ì´ì…˜ */
        .explanation-box {
            animation: slideDown 0.5s ease-out;
            background: linear-gradient(135deg, #fff5f5 0%, #fed7d7 100%);
            border: 2px solid #fc8181;
            border-radius: 12px;
            margin-top: 16px;
            padding: 16px;
            box-shadow: 0 4px 12px rgba(252, 129, 129, 0.3);
        }
        @keyframes slideDown {
            from { 
                opacity: 0; 
                transform: translateY(-20px); 
                max-height: 0;
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
                max-height: 500px;
            }
        }
        
        /* ê°œì¸ì •ë³´ ë™ì˜ íŒì—… ìŠ¤íƒ€ì¼ */
        .privacy-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
        }
        
        .privacy-modal-content {
            background: white;
            border-radius: 12px;
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            animation: modalFadeIn 0.3s ease-out;
        }
        
        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(-20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        
        .privacy-modal-header {
            padding: 20px 20px 0 20px;
            border-bottom: 1px solid #e0e0e0;
            position: sticky;
            top: 0;
            background: white;
            border-radius: 12px 12px 0 0;
        }
        
        .privacy-modal-body {
            padding: 20px;
            font-size: 12px;
            line-height: 1.4;
        }
        
        .privacy-modal-footer {
            padding: 0 20px 20px 20px;
            border-top: 1px solid #e0e0e0;
            position: sticky;
            bottom: 0;
            background: white;
            border-radius: 0 0 12px 12px;
        }
    </style>
</head>
<body class="bg-white">
    <div class="container">
        
        <!-- 1. ì¸íŠ¸ë¡œ í˜ì´ì§€ -->
        <div id="page-intro" class="page active">
            <div class="screen-fit bg-gradient-to-br from-blue-500 to-purple-600 text-white text-center">
                <div class="content-section">
                    <h1 class="font-bold mb-compact">ğŸ›¡ï¸ ìŠ¤ë¯¸ì‹± ì²´í—˜ê´€</h1>
                    <div class="mb-compact">
                        <p class="mb-2">ì–´ë¥´ì‹  ì—¬ëŸ¬ë¶„,</p>
                        <p class="mb-2">ìŠ¤ë¯¸ì‹±ì„ ì–¼ë§ˆë‚˜</p>
                        <p class="mb-4">ì˜ ì•Œê³  ê³„ì‹ ê°€ìš”?</p>
                    </div>
                    <div class="bg-white/20 backdrop-blur-sm rounded-lg p-compact mb-4">
                        <p class="mb-2">ğŸ“± ë¬¸ì ì† í•¨ì •ì„ ì°¾ì•„ë‚´ê³ </p>
                        <p>ğŸ” ì•ˆì „í•œ ë””ì§€í„¸ ìƒí™œì„ ë°°ì›Œë³´ì„¸ìš”!</p>
                    </div>
                </div>
                <div class="button-section">
                    <button onclick="goToPage('page-guide')" class="w-full bg-white text-blue-600 font-bold rounded-full hover:bg-gray-100 transition-all">
                        ì²´í—˜ ì‹œì‘í•˜ê¸° ğŸš€
                    </button>
                </div>
            </div>
        </div>

        <!-- 2. ìŠ¤ë¯¸ì‹± ì•ˆë‚´ í˜ì´ì§€ -->
        <div id="page-guide" class="page">
            <div class="screen-fit">
                <div class="content-section">
                    <div class="text-center mb-4">
                        <h2 class="font-bold text-gray-800 mb-2">ìŠ¤ë¯¸ì‹±ì´ë€?</h2>
                        <div class="bg-red-50 border-2 border-red-200 rounded-lg p-compact mb-4">
                            <p class="font-bold text-red-800 mb-1">SMS + í”¼ì‹± = ìŠ¤ë¯¸ì‹±</p>
                            <p class="text-red-600">ë¬¸ìë©”ì‹œì§€ë¥¼ ì´ìš©í•œ ì‚¬ê¸°</p>
                        </div>
                    </div>

                    <!-- í”¼í•´ íë¦„ë„ (ê°„ì†Œí™”) -->
                    <div class="mb-4">
                        <h3 class="font-bold mb-2">ğŸ“Š í”¼í•´ ê³¼ì •</h3>
                        <div class="compact-spacing">
                            <div class="flex items-center bg-gray-50 p-2 rounded border">
                                <span class="bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3">1</span>
                                <span class="text-sm">ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ë¬¸ì ìˆ˜ì‹ </span>
                            </div>
                            <div class="flex items-center bg-gray-50 p-2 rounded border">
                                <span class="bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3">2</span>
                                <span class="text-sm">ë§í¬ í´ë¦­</span>
                            </div>
                            <div class="flex items-center bg-red-100 p-2 rounded border-red-300 border">
                                <span class="bg-red-600 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold mr-3">3</span>
                                <span class="text-sm font-bold text-red-800">ğŸ’¸ ëˆì„ ìƒê²Œ ë©ë‹ˆë‹¤</span>
                            </div>
                        </div>
                    </div>

                    <!-- í”¼í•´ ì‚¬ë¡€ (ê°„ì†Œí™”) -->
                    <div class="mb-4">
                        <h3 class="font-bold mb-2">âš ï¸ ì£¼ìš” ì‚¬ë¡€</h3>
                        <div class="grid grid-cols-2 gap-2">
                            <div class="bg-yellow-50 border border-yellow-200 p-2 rounded text-center">
                                <p class="text-2xl mb-1">ğŸ’Œ</p>
                                <p class="text-sm font-bold">ì²­ì²©ì¥</p>
                            </div>
                            <div class="bg-yellow-50 border border-yellow-200 p-2 rounded text-center">
                                <p class="text-2xl mb-1">ï¿½</p>
                                <p class="text-sm font-bold">ì€í–‰ì‚¬ì¹­</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="button-section">
                    <button onclick="goToPage('page-quiz')" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-bold rounded transition-all">
                        í€´ì¦ˆë¡œ ì‹¤ë ¥ í™•ì¸í•˜ê¸° ğŸ“
                    </button>
                </div>
            </div>
        </div>

        <!-- 3. ìŠ¤ë¯¸ì‹± í€´ì¦ˆ í˜ì´ì§€ -->
        <div id="page-quiz" class="page">
            <div class="message-app">
                <!-- í€´ì¦ˆ ì§„í–‰ ìƒí™© -->
                <div class="quiz-header">
                    ìŠ¤ë¯¸ì‹± íƒì§€ í€´ì¦ˆ - ë¬¸ì œ <span id="current-question">1</span> / 7
                </div>
                
                <div id="quiz-container">
                    <!-- í€´ì¦ˆ ë¬¸ì œë“¤ì´ ë™ì ìœ¼ë¡œ ì‚½ì…ë©ë‹ˆë‹¤ -->
                </div>
                
                <div class="button-section" style="padding: 12px 16px; background: white; border-top: 1px solid #e0e0e0;">
                    <div class="flex gap-2">
                        <button id="prev-btn" onclick="previousQuestion()" class="flex-1 bg-gray-300 text-gray-700 font-bold rounded" disabled>â† ì´ì „</button>
                        <button id="next-btn" onclick="nextQuestion()" class="flex-1 bg-blue-500 text-white font-bold rounded">ë‹¤ìŒ â†’</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 4. ì˜¤ë‹µ í’€ì´ í˜ì´ì§€ (í˜ì´ì§€ ë¶„í• ) -->
        <div id="page-explanation" class="page">
            <div class="screen-fit">
                <div class="content-section">
                    <div class="text-center mb-4">
                        <h2 class="font-bold text-gray-800 mb-2">ğŸ“š í€´ì¦ˆ ê²°ê³¼</h2>
                        <div id="quiz-result-summary" class="bg-blue-50 border-2 border-blue-200 rounded-lg p-compact mb-4">
                            <!-- ê²°ê³¼ ìš”ì•½ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <p class="text-gray-600 mb-4">ê° ë¬¸ì œë³„ ìƒì„¸ í•´ì„¤ì„ ë³´ì‹œê² ì–´ìš”?</p>
                        <div class="compact-spacing">
                            <button onclick="goToPage('page-explanation-1')" class="w-full bg-purple-500 text-white font-bold rounded mb-2">
                                ï¿½ ìƒì„¸ í•´ì„¤ ë³´ê¸°
                            </button>
                            <button onclick="goToPage('page-prevention')" class="w-full bg-green-500 text-white font-bold rounded">
                                ğŸ›¡ï¸ ì˜ˆë°©ë²• ë°”ë¡œ ë³´ê¸°
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 4-1. ìƒì„¸ í•´ì„¤ í˜ì´ì§€ 1 -->
        <div id="page-explanation-1" class="page">
            <div class="screen-fit">
                <div class="content-section">
                    <div class="text-center mb-4">
                        <h2 class="font-bold text-gray-800 mb-2">ğŸ“ ìƒì„¸ í•´ì„¤ (1~4ë²ˆ)</h2>
                    </div>
                    <div id="explanation-content-1" class="compact-spacing">
                        <!-- 1-4ë²ˆ í•´ì„¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                </div>
                <div class="button-section">
                    <button onclick="goToPage('page-explanation-2')" class="w-full bg-blue-500 text-white font-bold rounded">
                        5~7ë²ˆ í•´ì„¤ ë³´ê¸° â†’
                    </button>
                </div>
            </div>
        </div>

        <!-- 4-2. ìƒì„¸ í•´ì„¤ í˜ì´ì§€ 2 -->
        <div id="page-explanation-2" class="page">
            <div class="screen-fit">
                <div class="content-section">
                    <div class="text-center mb-4">
                        <h2 class="font-bold text-gray-800 mb-2">ğŸ“ ìƒì„¸ í•´ì„¤ (5~7ë²ˆ)</h2>
                    </div>
                    <div id="explanation-content-2" class="compact-spacing">
                        <!-- 5-7ë²ˆ í•´ì„¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                </div>
                <div class="button-section">
                    <button onclick="goToPage('page-prevention')" class="w-full bg-green-500 text-white font-bold rounded">
                        ì˜ˆë°© ë° ëŒ€ì²˜ë²• ì•Œì•„ë³´ê¸° ğŸ›¡ï¸
                    </button>
                </div>
            </div>
        </div>

        <!-- 5. ì˜ˆë°© ë° ëŒ€ì²˜ë²• í˜ì´ì§€ -->
        <div id="page-prevention" class="page">
            <div class="screen-fit">
                <div class="content-section">
                    <div class="text-center mb-4">
                        <h2 class="font-bold text-gray-800 mb-2">ğŸ›¡ï¸ ì˜ˆë°© ë° ëŒ€ì²˜ë²•</h2>
                    </div>

                    <!-- ì˜ˆë°© ë°©ë²• (ê°„ì†Œí™”) -->
                    <div class="mb-4">
                        <h3 class="font-bold text-green-700 mb-2">âœ… ì˜ˆë°© ë°©ë²•</h3>
                        <div class="bg-green-50 border-2 border-green-200 rounded-lg p-compact">
                            <div class="compact-spacing text-sm">
                                <div class="flex items-start">
                                    <span class="text-green-500 mr-2">â€¢</span>
                                    <span><strong>ë§í¬ í™•ì¸:</strong> í´ë¦­ ì „ ì£¼ì†Œ ì˜ì‹¬í•´ë³´ê¸°</span>
                                </div>
                                <div class="flex items-start">
                                    <span class="text-green-500 mr-2">â€¢</span>
                                    <span><strong>ì§ì ‘ í™•ì¸:</strong> í•´ë‹¹ ê¸°ê´€ì— ì „í™”í•˜ê¸°</span>
                                </div>
                                <div class="flex items-start">
                                    <span class="text-green-500 mr-2">â€¢</span>
                                    <span><strong>ëª¨ë¥´ëŠ” ë²ˆí˜¸:</strong> ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ë°œì‹ ë²ˆí˜¸ ì£¼ì˜</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- í”¼í•´ ì‹œ ëŒ€ì‘ë²• (ê°„ì†Œí™”) -->
                    <div class="mb-4">
                        <h3 class="font-bold text-red-700 mb-2">ï¿½ í”¼í•´ ì‹œ ëŒ€ì‘</h3>
                        <div class="bg-red-50 border-2 border-red-200 rounded-lg p-compact">
                            <div class="compact-spacing text-sm">
                                <div class="flex items-start">
                                    <span class="text-red-500 mr-2 font-bold">1.</span>
                                    <span><strong>112 ì‹ ê³ </strong> (ê²½ì°°ì„œ)</span>
                                </div>
                                <div class="flex items-start">
                                    <span class="text-red-500 mr-2 font-bold">2.</span>
                                    <span><strong>1332 ì‹ ê³ </strong> (ê¸ˆê°ì›)</span>
                                </div>
                                <div class="flex items-start">
                                    <span class="text-red-500 mr-2 font-bold">3.</span>
                                    <span><strong>ê³„ì¢Œ ì§€ê¸‰ì •ì§€</strong> ìš”ì²­</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ì†Œì•¡ê²°ì œ ì°¨ë‹¨ -->
                    <div class="mb-4">
                        <h3 class="font-bold text-blue-700 mb-2">ï¿½ ì†Œì•¡ê²°ì œ ì°¨ë‹¨</h3>
                        <div class="bg-blue-50 border-2 border-blue-200 rounded-lg p-compact">
                            <div class="text-center text-sm">
                                <p>í†µì‹ ì‚¬ ì•±ì—ì„œ ì°¨ë‹¨ ì„¤ì •</p>
                                <p class="text-blue-600 font-bold">SK: Tì›”ë“œ / KT: ì˜¬ë ˆ / LG: U+</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="button-section">
                    <button onclick="goToPage('page-vote')" class="w-full bg-purple-500 text-white font-bold rounded">
                        êµìœ¡ íš¨ê³¼ í™•ì¸í•˜ê¸° ğŸ“Š
                    </button>
                </div>
            </div>
        </div>

        <!-- 6. íˆ¬í‘œ ì°¸ì—¬ í˜ì´ì§€ -->
        <div id="page-vote" class="page">
            <div class="screen-fit">
                <div class="content-section">
                    <div class="text-center mb-4">
                        <h2 class="font-bold text-gray-800 mb-2">ğŸ“Š êµìœ¡ íš¨ê³¼ í™•ì¸</h2>
                        <p class="text-gray-600 mb-4">ìŠ¤ë¯¸ì‹± êµìœ¡ í›„ ìì‹ ì˜ ëŒ€ì²˜ ëŠ¥ë ¥ì„ í‰ê°€í•´ì£¼ì„¸ìš”</p>
                    </div>

                    <div class="bg-blue-50 border-2 border-blue-200 rounded-lg p-compact">
                        <h3 class="font-bold text-center mb-4">ì•ìœ¼ë¡œ ìŠ¤ë¯¸ì‹± ë¬¸ìë¥¼ ë°›ê²Œ ëœë‹¤ë©´<br>ì†ì§€ ì•Šê³  ëŒ€ì²˜í•  ìˆ˜ ìˆë‚˜ìš”?</h3>
                        
                        <div class="compact-spacing">
                            <button onclick="selectVote('confident')" class="vote-option w-full p-3 border-2 border-green-300 rounded hover:bg-green-50 transition-all">
                                <div class="flex items-center">
                                    <span class="text-2xl mr-3">ğŸ˜Š</span>
                                    <div class="text-left">
                                        <p class="font-bold text-green-800">ìì‹  ìˆì–´ìš”!</p>
                                        <p class="text-sm text-green-600">ì˜ êµ¬ë³„í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ìš”</p>
                                    </div>
                                </div>
                            </button>
                            
                            <button onclick="selectVote('moderate')" class="vote-option w-full p-3 border-2 border-yellow-300 rounded hover:bg-yellow-50 transition-all">
                                <div class="flex items-center">
                                    <span class="text-2xl mr-3">ğŸ¤”</span>
                                    <div class="text-left">
                                        <p class="font-bold text-yellow-800">ì–´ëŠ ì •ë„ ìì‹  ìˆì–´ìš”</p>
                                        <p class="text-sm text-yellow-600">ì¡°ì‹¬í•˜ë©´ í”¼í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ìš”</p>
                                    </div>
                                </div>
                            </button>
                            
                            <button onclick="selectVote('unsure')" class="vote-option w-full p-3 border-2 border-red-300 rounded hover:bg-red-50 transition-all">
                                <div class="flex items-center">
                                    <span class="text-2xl mr-3">ğŸ˜°</span>
                                    <div class="text-left">
                                        <p class="font-bold text-red-800">ì•„ì§ ìì‹ ì´ ì—†ì–´ìš”</p>
                                        <p class="text-sm text-red-600">ë” ì£¼ì˜ê¹Šê²Œ ì‚´í´ë´ì•¼ê² ì–´ìš”</p>
                                    </div>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 7. ê¸°í”„í‹°ì½˜ ìˆ˜ë ¹ í˜ì´ì§€ -->
        <div id="page-complete" class="page">
            <div class="screen-fit">
                <div class="content-section">
                    <div class="text-center mb-4">
                        <div class="text-6xl mb-4">ğŸ‰</div>
                        <h2 class="font-bold text-gray-800 mb-4">êµìœ¡ ì™„ë£Œ!</h2>
                        <div id="completion-message" class="bg-green-50 border-2 border-green-200 rounded-lg p-compact mb-4">
                            <!-- íˆ¬í‘œ ê²°ê³¼ì— ë”°ë¥¸ ë©”ì‹œì§€ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>

                    <div class="bg-blue-50 border-2 border-blue-200 rounded-lg p-compact mb-4">
                        <h3 class="font-bold text-center mb-3">ğŸ ê¸°í”„í‹°ì½˜ ìˆ˜ë ¹</h3>
                        <p class="text-gray-600 text-center mb-4 text-sm">êµìœ¡ ì°¸ì—¬ ê°ì‚¬ ì„ ë¬¼ì„ ë°›ì•„ë³´ì„¸ìš”!</p>
                        
                        <!-- ê°œì¸ì •ë³´ ë™ì˜ì„œ -->
                        <form id="gifticon-form" class="compact-spacing">
                            <div>
                                <label class="block font-bold mb-2">ì´ë¦„ *</label>
                                <input type="text" id="name" required placeholder="ê¹€ë””ë¹„" class="w-full border border-gray-300 rounded focus:border-blue-500 focus:outline-none">
                            </div>
                            
                            <div>
                                <label class="block font-bold mb-2">íœ´ëŒ€í° ë²ˆí˜¸ *</label>
                                <input type="tel" id="phone" required placeholder="010-1234-5678" class="w-full border border-gray-300 rounded focus:border-blue-500 focus:outline-none">
                            </div>
                            
                            <div class="text-gray-500 text-xs p-2 bg-gray-50 rounded border">
                                <p class="font-bold mb-1">ğŸ“‹ ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš© ì•ˆë‚´</p>
                                <p>ê¸°í”„í‹°ì½˜ ë°œì†¡ì„ ìœ„í•´ ê°œì¸ì •ë³´ ìˆ˜ì§‘ì´ í•„ìš”í•©ë‹ˆë‹¤. ì•„ë˜ ë²„íŠ¼ í´ë¦­ ì‹œ ê°œì¸ì •ë³´ ë™ì˜ì„œë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                            </div>
                            
                            <button type="button" onclick="showPrivacyModal()" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded hover:from-blue-600 hover:to-purple-700 transition-all">
                                ê°œì¸ì •ë³´ ë™ì˜ í›„ ì‹ ì²­í•˜ê¸° ğŸ
                            </button>
                        </form>
                    </div>
                </div>
                
                <div class="button-section">
                    <button onclick="goToPage('page-intro')" class="w-full bg-gray-500 text-white font-bold rounded">
                        ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì²´í—˜í•˜ê¸°
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ê°œì¸ì •ë³´ ë™ì˜ì„œ íŒì—… ëª¨ë‹¬ -->
    <div id="privacy-modal" class="privacy-modal" style="display: none;">
        <div class="privacy-modal-content">
            <div class="privacy-modal-header">
                <h4 class="font-bold text-center text-lg text-gray-800">ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš© ë™ì˜ì„œ</h4>
                <p class="text-center text-gray-600 text-sm">(ì´ë²¤íŠ¸ ê²½í’ˆ ë°œì†¡ìš©)</p>
            </div>
            
            <div class="privacy-modal-body">
                <p class="mb-4 text-gray-700">
                    <strong>ìŠ¤ë¯¸ì‹± ì˜ˆë°© êµìœ¡ ì²´í—˜ê´€</strong>ì— ì°¸ì—¬í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤. ì´ë²¤íŠ¸ ê²½í’ˆ(ê¸°í”„í‹°ì½˜) ë°œì†¡ì„ ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ê°œì¸ì •ë³´ë¥¼ ìˆ˜ì§‘ ë° ì´ìš©í•˜ê³ ì í•©ë‹ˆë‹¤. ë‚´ìš©ì„ ìì„¸íˆ ì½ì–´ë³´ì‹  í›„ ë™ì˜ ì—¬ë¶€ë¥¼ ê²°ì •í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.
                </p>
                
                <div class="mb-4">
                    <h5 class="font-bold mb-2 text-gray-800">1. ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜ (í•„ìˆ˜)</h5>
                    <div class="bg-gray-50 border rounded p-2 space-y-1">
                        <div class="flex">
                            <span class="font-bold w-20 text-gray-700">ëª©ì :</span>
                            <span class="text-gray-600">ì´ë²¤íŠ¸ ê²½í’ˆ(ê¸°í”„í‹°ì½˜) ë°œì†¡ ë° ê´€ë ¨ ë¬¸ì˜ ì‘ëŒ€</span>
                        </div>
                        <div class="flex">
                            <span class="font-bold w-20 text-gray-700">í•­ëª©:</span>
                            <span class="text-gray-600">ì´ë¦„, íœ´ëŒ€í° ë²ˆí˜¸</span>
                        </div>
                        <div class="flex">
                            <span class="font-bold w-20 text-gray-700">ê¸°ê°„:</span>
                            <span class="text-gray-600">ìˆ˜ì§‘ì¼ë¡œë¶€í„° 1ì¼ (ê²½í’ˆ ë°œì†¡ ì™„ë£Œ í›„ ì¦‰ì‹œ íŒŒê¸°)</span>
                        </div>
                        <div class="flex">
                            <span class="font-bold w-20 text-gray-700">ê±°ë¶€ê¶Œ:</span>
                            <span class="text-gray-600">ë™ì˜ ê±°ë¶€ ì‹œ ì´ë²¤íŠ¸ ì°¸ì—¬ ë° ê²½í’ˆ ìˆ˜ë ¹ ë¶ˆê°€</span>
                        </div>
                    </div>
                </div>
                
                <div class="mb-4">
                    <h5 class="font-bold mb-2 text-gray-800">2. ê°œì¸ì •ë³´ì˜ ì œ3ì ì œê³µ ë™ì˜ (í•„ìˆ˜)</h5>
                    <p class="mb-2 text-gray-700">ì›í™œí•œ ê²½í’ˆ ë°œì†¡ì„ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ê°œì¸ì •ë³´ ì²˜ë¦¬ ì—…ë¬´ë¥¼ ì™¸ë¶€ ì „ë¬¸ ì—…ì²´ì— ìœ„íƒí•˜ì—¬ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    <div class="bg-gray-50 border rounded p-2 space-y-1">
                        <div class="flex">
                            <span class="font-bold w-20 text-gray-700">ì œê³µì:</span>
                            <span class="text-gray-600">ê¸°í”„í‹°ì½˜ ë°œì†¡ ìœ„íƒ ì—…ì²´ (ì˜ˆ: KTì•ŒíŒŒ, ì¹´ì¹´ì˜¤ì„ ë¬¼í•˜ê¸° ë“±)</span>
                        </div>
                        <div class="flex">
                            <span class="font-bold w-20 text-gray-700">ëª©ì :</span>
                            <span class="text-gray-600">ì´ë²¤íŠ¸ ê²½í’ˆ(ê¸°í”„í‹°ì½˜) ë°œì†¡ ëŒ€í–‰</span>
                        </div>
                        <div class="flex">
                            <span class="font-bold w-20 text-gray-700">í•­ëª©:</span>
                            <span class="text-gray-600">ì´ë¦„, íœ´ëŒ€í° ë²ˆí˜¸</span>
                        </div>
                        <div class="flex">
                            <span class="font-bold w-20 text-gray-700">ê¸°ê°„:</span>
                            <span class="text-gray-600">ê²½í’ˆ ë°œì†¡ ì™„ë£Œ ë˜ëŠ” ìœ„íƒ ê³„ì•½ ì¢…ë£Œ ì‹œê¹Œì§€</span>
                        </div>
                    </div>
                </div>
                
                <div class="border-t pt-3 text-center mb-4">
                    <p class="font-bold text-gray-800 mb-2">ë™ì˜ ì•ˆë‚´</p>
                    <p class="text-gray-700 leading-relaxed">
                        ë³¸ì¸ì€ ìœ„ ë‚´ìš©ì„ ëª¨ë‘ ìˆ™ì§€í•˜ì˜€ìœ¼ë©°, ì´ì— ë”°ë¼ ê°œì¸ì •ë³´ë¥¼ ìˆ˜ì§‘, ì´ìš© ë° ì œ3ìì—ê²Œ ì œê³µí•˜ëŠ” ê²ƒì— ë™ì˜í•©ë‹ˆë‹¤.
                    </p>
                </div>
            </div>
            
            <div class="privacy-modal-footer">
                <div class="flex gap-2 pt-3">
                    <button onclick="closePrivacyModal()" class="flex-1 bg-gray-300 text-gray-700 font-bold rounded py-3 hover:bg-gray-400 transition-all">
                        ì·¨ì†Œ
                    </button>
                    <button onclick="agreeAndSubmit()" class="flex-1 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold rounded py-3 hover:from-blue-600 hover:to-purple-700 transition-all">
                        ë™ì˜í•˜ê³  ì‹ ì²­í•˜ê¸° ğŸ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let selectedVote = '';

        // í€´ì¦ˆ ë°ì´í„° (ìŠ¤ë¯¸ì‹± 5ê°œ + ì •ìƒ ë¬¸ì 2ê°œ)
        const quizData = [
            {
                id: 1,
                type: 'ì¹´ë“œë°œê¸‰ ì‚¬ì¹­',
                message: '[KBêµ­ë¯¼ì¹´ë“œ] ì‹ ìš©ì¹´ë“œ ë°œê¸‰ì´ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ì¹´ë“œìˆ˜ë ¹ì„ ìœ„í•´ ê°œì¸ì •ë³´ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.',
                link: 'http://kb-crads.com/confirm',
                isPhishing: true,
                explanation: {
                    title: 'ì¹´ë“œë°œê¸‰ ì‚¬ì¹­ ìŠ¤ë¯¸ì‹±',
                    features: ['ì •ì‹ ë„ë©”ì¸ê³¼ ìœ ì‚¬í•œ ê°€ì§œ URL ì‚¬ìš©', 'ê¸´ê¸‰ì„±ì„ ê°•ì¡°í•˜ì—¬ í´ë¦­ ìœ ë„', 'ê°œì¸ì •ë³´ ì…ë ¥ ìš”êµ¬'],
                    warning: 'ì¹´ë“œì‚¬ëŠ” ë¬¸ìë¡œ ê°œì¸ì •ë³´ë¥¼ ìš”êµ¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤',
                    action: 'ì¹´ë“œì‚¬ ê³µì‹ ì•±ì´ë‚˜ ê³ ê°ì„¼í„°ë¡œ ì§ì ‘ í™•ì¸'
                }
            },
            {
                id: 2,
                type: 'ì •ìƒ ì¿ íŒ¡ ë°°ì†¡',
                message: '[ì¿ íŒ¡] ì£¼ë¬¸í•˜ì‹  ìƒí’ˆì´ ë°°ì†¡ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë°°ì†¡ì¡°íšŒ: https://www.coupang.com/vp/orders',
                link: 'https://www.coupang.com/vp/orders',
                isPhishing: false,
                explanation: {
                    title: 'ì •ìƒì ì¸ ì¿ íŒ¡ ë°°ì†¡ ì•Œë¦¼',
                    features: ['ê³µì‹ ì¿ íŒ¡ ë„ë©”ì¸(coupang.com) ì‚¬ìš©', 'ê°œì¸ì •ë³´ ìš”êµ¬í•˜ì§€ ì•ŠìŒ', 'ë‹¨ìˆœ ë°°ì†¡ ì™„ë£Œ ì•ˆë‚´'],
                    warning: 'ì´ê²ƒì€ ì •ìƒì ì¸ ë°°ì†¡ ì™„ë£Œ ì•Œë¦¼ì…ë‹ˆë‹¤',
                    action: 'ì •ìƒì ì¸ ë¬¸ìì…ë‹ˆë‹¤. í•„ìš”ì‹œ ì£¼ë¬¸ë‚´ì—­ì„ í™•ì¸í•˜ì„¸ìš”'
                }
            },
            {
                id: 3,
                type: 'ë²•ì› ì‚¬ì¹­',
                message: '[ë²•ì›í–‰ì •ì²˜] ë¯¼ì‚¬ì†Œì†¡ ê´€ë ¨ ì¶œì„í†µì§€ì„œê°€ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤. í™•ì¸í•˜ì§€ ì•Šìœ¼ì‹œë©´ íŒ¨ì†Œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                link: 'http://court-notice.co.kr',
                isPhishing: true,
                explanation: {
                    title: 'ë²•ì› ì‚¬ì¹­ ìŠ¤ë¯¸ì‹±',
                    features: ['ê³µì‹ê¸°ê´€ ì‚¬ì¹­ìœ¼ë¡œ ê¶Œìœ„ ì´ìš©', 'ë²•ì  ë¶ˆì´ìµ í˜‘ë°•', 'ì¦‰ì‹œ í™•ì¸ ì••ë°•'],
                    warning: 'ë²•ì›ì€ ê³µì‹ ìš°í¸ìœ¼ë¡œë§Œ í†µì§€ì„œë¥¼ ë°œì†¡í•©ë‹ˆë‹¤',
                    action: 'í•´ë‹¹ ë²•ì›ì— ì§ì ‘ ì „í™”í•˜ì—¬ í™•ì¸'
                }
            },
            {
                id: 4,
                type: 'ì •ìƒ ì‹ í•œì€í–‰',
                message: '[ì‹ í•œì€í–‰] ê³ ê°ë‹˜ì˜ ê³„ì¢Œì—ì„œ ATM ì¶œê¸ˆ 500,000ì›ì´ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤. ë¬¸ì˜: 1599-8000',
                link: null,
                isPhishing: false,
                explanation: {
                    title: 'ì •ìƒì ì¸ ì‹ í•œì€í–‰ ê±°ë˜ ì•Œë¦¼',
                    features: ['ì‹¤ì œ ì€í–‰ ê³ ê°ì„¼í„° ë²ˆí˜¸ ì œê³µ', 'ì˜ì‹¬ìŠ¤ëŸ¬ìš´ ë§í¬ ì—†ìŒ', 'ë‹¨ìˆœ ê±°ë˜ ë‚´ì—­ ì•ˆë‚´'],
                    warning: 'ì´ê²ƒì€ ì •ìƒì ì¸ ê±°ë˜ ì•Œë¦¼ì…ë‹ˆë‹¤',
                    action: 'ì •ìƒì ì¸ ë¬¸ìì…ë‹ˆë‹¤. ê±°ë˜ ë‚´ì—­ì´ ë§ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”'
                }
            },
            {
                id: 5,
                type: 'êµí†µë²”ì¹™ê¸ˆ ì‚¬ì¹­',
                message: '[ê²½ì°°ì²­] ê³¼ì† ë‹¨ì† ë²”ì¹™ê¸ˆ ë¯¸ë‚©ìœ¼ë¡œ ì¸í•´ ë©´í—ˆì •ì§€ ì˜ˆì •ì…ë‹ˆë‹¤. ì¦‰ì‹œ ë‚©ë¶€í•˜ì„¸ìš”.',
                link: 'http://efine-pay.kr',
                isPhishing: true,
                explanation: {
                    title: 'êµí†µë²”ì¹™ê¸ˆ ì‚¬ì¹­ ìŠ¤ë¯¸ì‹±',
                    features: ['ê³µê¶Œë ¥ ì‚¬ì¹­ìœ¼ë¡œ ìœ„ì••ê° ì¡°ì„±', 'ë©´í—ˆì •ì§€ ë“± ë¶ˆì´ìµ ê²½ê³ ', 'ì¦‰ì‹œ ê²°ì œ ìš”êµ¬'],
                    warning: 'ê²½ì°°ì²­ì€ ë¬¸ìë¡œ ë²”ì¹™ê¸ˆ ë‚©ë¶€ë¥¼ ìš”êµ¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤',
                    action: 'ê²½ì°°ì„œë‚˜ ì´íŒŒì¸(efine.go.kr)ì—ì„œ ì§ì ‘ í™•ì¸'
                }
            },
            {
                id: 6,
                type: 'ìë…€ ì‚¬ì¹­',
                message: 'ì—„ë§ˆ í° ê¹¨ì ¸ì„œ ì¹œêµ¬í°ìœ¼ë¡œ ì—°ë½í•´ìš”. í•™ì›ë¹„ ê¸‰í•˜ê²Œ í•„ìš”í•´ì„œ ê³„ì¢Œë¡œ ë³´ë‚´ì£¼ì„¸ìš”. 010-****-****',
                link: null,
                isPhishing: true,
                explanation: {
                    title: 'ìë…€ ì‚¬ì¹­ ìŠ¤ë¯¸ì‹±',
                    features: ['ê°€ì¡± ê´€ê³„ ì•…ìš©', 'ê¸´ê¸‰ìƒí™© ì—°ì¶œ', 'ì§ì ‘ í†µí™” íšŒí”¼'],
                    warning: 'ê°€ì¡±ì´ë¼ë„ ê¸ˆì „ ìš”êµ¬ ì‹œ ë°˜ë“œì‹œ ë³¸ì¸ í™•ì¸ í•„ìš”',
                    action: 'ìë…€ì—ê²Œ ì§ì ‘ ì „í™”í•˜ì—¬ í™•ì¸'
                }
            },
            {
                id: 7,
                type: 'ì²­ì²©ì¥ ì‚¬ì¹­',
                message: '[ëª¨ë°”ì¼ ì²­ì²©ì¥] ì•ˆë…•í•˜ì„¸ìš”! ê²°í˜¼í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê¼­ ì°¸ì„í•´ì£¼ì„¸ìš”â™¥',
                link: 'http://mcard.wedding-day.kr',
                isPhishing: true,
                explanation: {
                    title: 'ì²­ì²©ì¥ ì‚¬ì¹­ ìŠ¤ë¯¸ì‹±',
                    features: ['ê°ì •ì  í˜¸ì†Œë¡œ ê²½ê³„ì‹¬ í•´ì œ', 'ëª¨ë¥´ëŠ” ì‚¬ëŒë„ í´ë¦­í•˜ê²Œ ìœ ë„', 'ì•…ì„±ì½”ë“œ ì„¤ì¹˜ ëª©ì '],
                    warning: 'ëª¨ë¥´ëŠ” ë²ˆí˜¸ì˜ ì²­ì²©ì¥ ë§í¬ëŠ” ì•…ì„±ì½”ë“œì¼ ê°€ëŠ¥ì„± ë†’ìŒ',
                    action: 'ë°œì‹ ìê°€ ëˆ„êµ¬ì¸ì§€ ë¨¼ì € í™•ì¸'
                }
            }
        ];

        // í˜ì´ì§€ ì „í™˜ í•¨ìˆ˜
        function goToPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            
            if (pageId === 'page-quiz') {
                initQuiz();
            } else if (pageId === 'page-explanation') {
                showQuizResult();
            } else if (pageId === 'page-explanation-1') {
                showDetailedExplanations(1, 4);
            } else if (pageId === 'page-explanation-2') {
                showDetailedExplanations(5, 7);
            }
        }

        // í€´ì¦ˆ ì´ˆê¸°í™”
        function initQuiz() {
            currentQuestionIndex = 0;
            userAnswers = [];
            updateQuizDisplay();
        }

        // ì—°ë½ì²˜ ì´ë¦„ ìƒì„±
        function getContactName(type) {
            const names = {
                'ì¹´ë“œë°œê¸‰ ì‚¬ì¹­': 'KBêµ­ë¯¼ì¹´ë“œ',
                'ì •ìƒ ì¿ íŒ¡ ë°°ì†¡': 'ì¿ íŒ¡',
                'ë²•ì› ì‚¬ì¹­': 'ë²•ì›í–‰ì •ì²˜',
                'ì •ìƒ ì‹ í•œì€í–‰': 'ì‹ í•œì€í–‰',
                'êµí†µë²”ì¹™ê¸ˆ ì‚¬ì¹­': 'ê²½ì°°ì²­',
                'ìë…€ ì‚¬ì¹­': 'ë¯¸ì§€ì˜ ë²ˆí˜¸',
                'ì²­ì²©ì¥ ì‚¬ì¹­': 'ëª¨ë°”ì¼ ì²­ì²©ì¥'
            };
            return names[type] || 'ì•Œ ìˆ˜ ì—†ëŠ” ë°œì‹ ì';
        }

        // ì—°ë½ì²˜ ë²ˆí˜¸ ìƒì„±
        function getContactNumber(type) {
            const numbers = {
                'ì¹´ë“œë°œê¸‰ ì‚¬ì¹­': '010-1234-5678',
                'ì •ìƒ ì¿ íŒ¡ ë°°ì†¡': '010-2345-6789',
                'ë²•ì› ì‚¬ì¹­': '010-3456-7890',
                'ì •ìƒ ì‹ í•œì€í–‰': '010-4567-8901',
                'êµí†µë²”ì¹™ê¸ˆ ì‚¬ì¹­': '010-5678-9012',
                'ìë…€ ì‚¬ì¹­': '010-6789-0123',
                'ì²­ì²©ì¥ ì‚¬ì¹­': '010-7890-1234'
            };
            return numbers[type] || '010-0000-0000';
        }

        // í€´ì¦ˆ í™”ë©´ ì—…ë°ì´íŠ¸ (ê°„ì†Œí™”)
        function updateQuizDisplay() {
            const question = quizData[currentQuestionIndex];
            const container = document.getElementById('quiz-container');
            const currentQuestionSpan = document.getElementById('current-question');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');

            currentQuestionSpan.textContent = currentQuestionIndex + 1;

            container.innerHTML = `
                <!-- ë¬¸ì ì•± í—¤ë” -->
                <div class="message-header">
                    <span class="back-arrow">â†</span>
                    <div class="contact-info">
                        <p class="contact-name">${getContactName(question.type)}</p>
                        <p class="contact-number">${getContactNumber(question.type)}</p>
                    </div>
                    <div class="header-icons">
                        <span>ğŸ“</span>
                        <span>ğŸ”</span>
                        <span>â‹®</span>
                    </div>
                </div>
                
                <!-- ë©”ì‹œì§€ ì˜ì—­ -->
                <div class="message-area">
                    <!-- ë°›ì€ ë©”ì‹œì§€ -->
                    <div class="received-message">
                        <div class="message-bubble received-bubble">
                            <p class="message-text">${question.message}</p>
                            ${question.link ? `<span class="message-link">${question.link}</span>` : ''}
                        </div>
                        <div class="message-time">ì˜¤í›„ 2:45</div>
                    </div>
                    
                    <!-- ì‚¬ìš©ìê°€ ë³´ë‚´ëŠ” í€´ì¦ˆ ë©”ì‹œì§€ë“¤ -->
                    <div class="sent-message">
                        <div class="message-bubble sent-bubble">
                            <p class="message-text">ì´ ë¬¸ìê°€ ì˜ì‹¬ìŠ¤ëŸ¬ìš´ë°...</p>
                        </div>
                        <div class="message-time">ì˜¤í›„ 2:46</div>
                    </div>
                </div>
                
                <!-- ì…ë ¥ ì˜ì—­ (í€´ì¦ˆ ì„ íƒ) -->
                <div class="input-area">
                    <div class="compact-spacing">
                        <button onclick="selectAnswer(true)" class="quiz-option w-full p-3 border-2 border-red-300 rounded text-left hover:bg-red-50 ${userAnswers[currentQuestionIndex] === true ? 'selected' : ''}">
                            <div class="flex items-center">
                                <span class="text-xl mr-3">ğŸš¨</span>
                                <div>
                                    <p class="font-bold text-red-800 text-sm">ìŠ¤ë¯¸ì‹±ì´ë¼ê³  ìƒê°í•´ìš”</p>
                                    <p class="text-red-600 text-xs">ìœ„í—˜í•´ ë³´ì—¬ìš”</p>
                                </div>
                            </div>
                        </button>
                        
                        <button onclick="selectAnswer(false)" class="quiz-option w-full p-3 border-2 border-green-300 rounded text-left hover:bg-green-50 ${userAnswers[currentQuestionIndex] === false ? 'selected' : ''}">
                            <div class="flex items-center">
                                <span class="text-xl mr-3">âœ…</span>
                                <div>
                                    <p class="font-bold text-green-800 text-sm">ì•ˆì „í•œ ë¬¸ì ê°™ì•„ìš”</p>
                                    <p class="text-green-600 text-xs">ì •ìƒì ì¸ ê²ƒ ê°™ì•„ìš”</p>
                                </div>
                            </div>
                        </button>
                    </div>
                    
                    <!-- í•´ì„¤ ì˜ì—­ -->
                    <div id="instant-explanation" style="display: none;"></div>
                </div>
            `;

            // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            prevBtn.disabled = currentQuestionIndex === 0;
            prevBtn.className = currentQuestionIndex === 0 ? 
                'flex-1 bg-gray-300 text-gray-500 font-bold rounded cursor-not-allowed' :
                'flex-1 bg-gray-300 text-gray-700 font-bold rounded hover:bg-gray-400 transition-all';

            // ë‹¤ìŒ ë²„íŠ¼ ìƒíƒœëŠ” ë‹µì„ ì„ íƒí–ˆì„ ë•Œë§Œ í™œì„±í™”ë˜ë„ë¡ ìˆ˜ì •
            updateNextButton();
        }

        // í€´ì¦ˆ ê²°ê³¼ ìš”ì•½ í‘œì‹œ
        function showQuizResult() {
            const container = document.getElementById('quiz-result-summary');
            let correctCount = 0;

            userAnswers.forEach((answer, index) => {
                if (answer === quizData[index].isPhishing) {
                    correctCount++;
                }
            });

            container.innerHTML = `
                <h3 class="font-bold text-blue-800 mb-2">í€´ì¦ˆ ê²°ê³¼</h3>
                <p class="font-bold text-blue-900 text-2xl mb-2">${correctCount} / ${quizData.length}</p>
                <p class="text-blue-700 text-sm">
                    ${correctCount === quizData.length ? 'ì™„ë²½í•´ìš”! ğŸ‰' : 
                      correctCount >= 5 ? 'ì˜ í•˜ì…¨ì–´ìš”! ğŸ‘' : 
                      'ë” ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë³´ì„¸ìš” ğŸ“š'}
                </p>
            `;

            // í€´ì¦ˆ ê²°ê³¼ë¥¼ êµ¬ê¸€í¼ì— ì „ì†¡
            submitQuizResultToGoogleForm(correctCount, userAnswers);
        }

        // í€´ì¦ˆ ê²°ê³¼ë¥¼ êµ¬ê¸€í¼ì— ì „ì†¡í•˜ëŠ” í•¨ìˆ˜
        function submitQuizResultToGoogleForm(correctCount, answers) {
            // êµ¬ê¸€ í¼ì¦ˆ URL (í€´ì¦ˆ ê²°ê³¼ìš©)
            const QUIZ_RESULT_FORM_URL = 'https://docs.google.com/forms/d/e/1FAIpQLSd9LG6oOaQiDDX_xIi3e2wSIOlfEgo-_FvqGvmiBlSugPAoOQ/formResponse';
            
            // í˜„ì¬ ì‹œê°„ì„ í•œêµ­ ì‹œê°„ìœ¼ë¡œ í¬ë§·
            const now = new Date();
            const koreaTime = new Intl.DateTimeFormat('ko-KR', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                timeZone: 'Asia/Seoul'
            }).format(now);

            // ë‹µì•ˆì„ ë¬¸ìì—´ë¡œ ë³€í™˜ (O/X í˜•íƒœ)
            const answerString = answers.map((answer, index) => {
                const isCorrect = answer === quizData[index].isPhishing;
                return isCorrect ? 'O' : 'X';
            }).join('');

            // ì ìˆ˜ ë“±ê¸‰
            const grade = correctCount === quizData.length ? 'ì™„ë²½' : 
                         correctCount >= 5 ? 'ìš°ìˆ˜' : 'ë³´í†µ';

            // ê° ë¬¸ì œë³„ ì •ë‹µ ì—¬ë¶€ (ê°œë³„ í•„ë“œë¡œ ì „ì†¡)
            const q1_correct = answers[0] === quizData[0].isPhishing ? 'O' : 'X';
            const q2_correct = answers[1] === quizData[1].isPhishing ? 'O' : 'X';
            const q3_correct = answers[2] === quizData[2].isPhishing ? 'O' : 'X';
            const q4_correct = answers[3] === quizData[3].isPhishing ? 'O' : 'X';
            const q5_correct = answers[4] === quizData[4].isPhishing ? 'O' : 'X';
            const q6_correct = answers[5] === quizData[5].isPhishing ? 'O' : 'X';
            const q7_correct = answers[6] === quizData[6].isPhishing ? 'O' : 'X';

            // êµ¬ê¸€ í¼ì˜ entry IDë“¤ (í€´ì¦ˆ ê²°ê³¼ìš©)
            const formData = new FormData();
            formData.append('entry.3333333333', correctCount.toString());  // ì •ë‹µ ê°œìˆ˜ entry ID
            formData.append('entry.4444444444', `${correctCount}/${quizData.length}`); // ì ìˆ˜ entry ID
            formData.append('entry.5555555555', answerString);   // ìƒì„¸ ë‹µì•ˆ entry ID
            formData.append('entry.6666666666', grade);         // ë“±ê¸‰ entry ID
            formData.append('entry.7777777777', koreaTime);     // ì™„ë£Œ ì‹œê°„ entry ID
            // ê° ë¬¸ì œë³„ ì •ë‹µ ì—¬ë¶€ (ë¶„ì„ìš©)
            formData.append('entry.8888888888', q1_correct);    // 1ë²ˆ ë¬¸ì œ ì •ë‹µ ì—¬ë¶€
            formData.append('entry.9999999999', q2_correct);    // 2ë²ˆ ë¬¸ì œ ì •ë‹µ ì—¬ë¶€
            formData.append('entry.1111111111', q3_correct);    // 3ë²ˆ ë¬¸ì œ ì •ë‹µ ì—¬ë¶€
            formData.append('entry.2222222222', q4_correct);    // 4ë²ˆ ë¬¸ì œ ì •ë‹µ ì—¬ë¶€
            formData.append('entry.3333333334', q5_correct);    // 5ë²ˆ ë¬¸ì œ ì •ë‹µ ì—¬ë¶€
            formData.append('entry.4444444445', q6_correct);    // 6ë²ˆ ë¬¸ì œ ì •ë‹µ ì—¬ë¶€
            formData.append('entry.5555555556', q7_correct);    // 7ë²ˆ ë¬¸ì œ ì •ë‹µ ì—¬ë¶€

            console.log('í€´ì¦ˆ ê²°ê³¼ ì „ì†¡ ë°ì´í„°:', {
                ì •ë‹µê°œìˆ˜: correctCount,
                ì ìˆ˜: `${correctCount}/${quizData.length}`,
                ìƒì„¸ë‹µì•ˆ: answerString,
                ë“±ê¸‰: grade,
                ì™„ë£Œì‹œê°„: koreaTime,
                ë¬¸ì œë³„ì •ë‹µ: {
                    '1ë²ˆ_ì¹´ë“œë°œê¸‰ì‚¬ì¹­': q1_correct,
                    '2ë²ˆ_ì¿ íŒ¡ë°°ì†¡': q2_correct,
                    '3ë²ˆ_ë²•ì›ì‚¬ì¹­': q3_correct,
                    '4ë²ˆ_ì‹ í•œì€í–‰': q4_correct,
                    '5ë²ˆ_êµí†µë²”ì¹™ê¸ˆì‚¬ì¹­': q5_correct,
                    '6ë²ˆ_ìë…€ì‚¬ì¹­': q6_correct,
                    '7ë²ˆ_ì²­ì²©ì¥ì‚¬ì¹­': q7_correct
                }
            });

            // êµ¬ê¸€ í¼ìœ¼ë¡œ í€´ì¦ˆ ê²°ê³¼ ì „ì†¡ (ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰)
            fetch(QUIZ_RESULT_FORM_URL, {
                method: 'POST',
                mode: 'no-cors',
                body: formData
            }).then(() => {
                console.log('í€´ì¦ˆ ê²°ê³¼ê°€ ì„±ê³µì ìœ¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
            }).catch((error) => {
                console.error('í€´ì¦ˆ ê²°ê³¼ ì „ì†¡ ì˜¤ë¥˜:', error);
            });
        }

        // ìƒì„¸ í•´ì„¤ í‘œì‹œ (í˜ì´ì§€ë³„ë¡œ ë¶„í• )
        function showDetailedExplanations(startIndex, endIndex) {
            const containerId = startIndex === 1 ? 'explanation-content-1' : 'explanation-content-2';
            const container = document.getElementById(containerId);
            let explanationHtml = '';

            // ì²« ë²ˆì§¸ í˜ì´ì§€ì—ë§Œ ê²°ê³¼ ìš”ì•½ í‘œì‹œ
            if (startIndex === 1) {
                let correctCount = 0;
                userAnswers.forEach((answer, index) => {
                    if (answer === quizData[index].isPhishing) {
                        correctCount++;
                    }
                });

                explanationHtml += `
                    <div class="bg-blue-50 border-2 border-blue-200 rounded p-compact text-center mb-compact">
                        <h3 class="font-bold text-blue-800 text-sm mb-1">í€´ì¦ˆ ê²°ê³¼</h3>
                        <p class="font-bold text-blue-900 text-2xl mb-1">${correctCount} / ${quizData.length}</p>
                        <p class="text-blue-700 text-xs">
                            ${correctCount === quizData.length ? 'ì™„ë²½í•´ìš”! ğŸ‰' : 
                              correctCount >= 5 ? 'ì˜ í•˜ì…¨ì–´ìš”! ğŸ‘' : 
                              'ë” ì£¼ì˜ ê¹Šê²Œ ì‚´í´ë³´ì„¸ìš” ğŸ“š'}
                        </p>
                    </div>
                `;
            }

            for (let i = startIndex - 1; i < endIndex; i++) {
                const question = quizData[i];
                const userAnswer = userAnswers[i];
                const isCorrect = userAnswer === question.isPhishing;
                const explanation = question.explanation;

                explanationHtml += `
                    <div class="border-2 rounded p-compact mb-compact ${isCorrect ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'}">
                        <div class="flex items-center mb-2">
                            <span class="text-lg mr-2">${isCorrect ? 'âœ…' : 'âŒ'}</span>
                            <h3 class="font-bold text-sm">${i + 1}. ${explanation.title}</h3>
                        </div>
                        
                        <div class="bg-white rounded p-2 mb-2 border text-xs">
                            <p class="text-gray-800">${question.message}</p>
                            ${question.link ? `<p class="text-blue-600 mt-1 break-all font-bold">${question.link}</p>` : ''}
                        </div>

                        <div class="text-xs space-y-1">
                            <div>
                                <h4 class="font-bold mb-1">ğŸ” íŠ¹ì§•</h4>
                                <ul class="text-gray-700 space-y-1">
                                    ${explanation.features.map(feature => `<li class="flex items-start"><span class="mr-1">â€¢</span><span>${feature}</span></li>`).join('')}
                                </ul>
                            </div>
                            
                            <div>
                                <h4 class="font-bold mb-1">âš ï¸ ì£¼ì˜ì </h4>
                                <p class="text-red-700">${explanation.warning}</p>
                            </div>
                            
                            <div>
                                <h4 class="font-bold mb-1">âœ… ëŒ€ì²˜ë²•</h4>
                                <p class="text-green-700">${explanation.action}</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            container.innerHTML = explanationHtml;
        }

        // ë‹¤ìŒ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateNextButton() {
            const nextBtn = document.getElementById('next-btn');
            const hasAnswer = userAnswers[currentQuestionIndex] !== undefined;
            
            if (currentQuestionIndex === quizData.length - 1) {
                nextBtn.textContent = 'ê²°ê³¼ ë³´ê¸°';
                nextBtn.className = hasAnswer ? 
                    'flex-1 bg-green-500 text-white font-bold rounded hover:bg-green-600 transition-all' :
                    'flex-1 bg-gray-400 text-gray-200 font-bold rounded cursor-not-allowed';
                nextBtn.disabled = !hasAnswer;
                if (hasAnswer) {
                    nextBtn.onclick = () => {
                        const hasShownFeedback = document.getElementById('instant-explanation').style.display === 'block';
                        const userAnswer = userAnswers[currentQuestionIndex];
                        const isCorrect = userAnswer === quizData[currentQuestionIndex].isPhishing;
                        
                        if (!hasShownFeedback && !isCorrect) {
                            // í‹€ë¦° ë‹µì¼ ë•Œë§Œ í”¼ë“œë°± í‘œì‹œ
                            showQuestionFeedback();
                            
                            // 1.5ì´ˆ í›„ ë²„íŠ¼ ìƒíƒœ ë³€ê²½
                            nextBtn.disabled = true;
                            nextBtn.className = 'flex-1 bg-gray-400 text-gray-200 font-bold rounded cursor-not-allowed';
                            nextBtn.textContent = 'í”¼ë“œë°± í™•ì¸ ì¤‘...';
                            
                            setTimeout(() => {
                                nextBtn.disabled = false;
                                nextBtn.className = 'flex-1 bg-green-500 text-white font-bold rounded hover:bg-green-600 transition-all';
                                nextBtn.textContent = 'ê²°ê³¼ í˜ì´ì§€ë¡œ â†’';
                                nextBtn.onclick = () => goToPage('page-explanation');
                            }, 1500);
                        } else {
                            // ì •ë‹µì´ê±°ë‚˜ ì´ë¯¸ í”¼ë“œë°±ì„ ë³¸ ê²½ìš° ë°”ë¡œ ê²°ê³¼ í˜ì´ì§€ë¡œ
                            goToPage('page-explanation');
                        }
                    };
                } else {
                    nextBtn.onclick = null;
                }
            } else {
                nextBtn.textContent = 'ë‹¤ìŒ â†’';
                nextBtn.className = hasAnswer ? 
                    'flex-1 bg-blue-500 text-white font-bold rounded hover:bg-blue-600 transition-all' :
                    'flex-1 bg-gray-400 text-gray-200 font-bold rounded cursor-not-allowed';
                nextBtn.disabled = !hasAnswer;
                if (hasAnswer) {
                    nextBtn.onclick = () => {
                        const hasShownFeedback = document.getElementById('instant-explanation').style.display === 'block';
                        const userAnswer = userAnswers[currentQuestionIndex];
                        const isCorrect = userAnswer === quizData[currentQuestionIndex].isPhishing;
                        
                        if (!hasShownFeedback && !isCorrect) {
                            // í‹€ë¦° ë‹µì¼ ë•Œë§Œ í”¼ë“œë°± í‘œì‹œ
                            showQuestionFeedback();
                            
                            // 1.5ì´ˆ í›„ ë²„íŠ¼ ìƒíƒœ ë³€ê²½
                            nextBtn.disabled = true;
                            nextBtn.className = 'flex-1 bg-gray-400 text-gray-200 font-bold rounded cursor-not-allowed';
                            nextBtn.textContent = 'í”¼ë“œë°± í™•ì¸ ì¤‘...';
                            
                            setTimeout(() => {
                                nextBtn.disabled = false;
                                nextBtn.className = 'flex-1 bg-blue-500 text-white font-bold rounded hover:bg-blue-600 transition-all';
                                nextBtn.textContent = 'ë‹¤ìŒ ë¬¸ì œë¡œ â†’';
                                nextBtn.onclick = () => {
                                    currentQuestionIndex++;
                                    updateQuizDisplay();
                                };
                            }, 1500);
                        } else {
                            // ì •ë‹µì´ê±°ë‚˜ ì´ë¯¸ í”¼ë“œë°±ì„ ë³¸ ê²½ìš° ë°”ë¡œ ë‹¤ìŒ ë¬¸ì œë¡œ
                            currentQuestionIndex++;
                            updateQuizDisplay();
                        }
                    };
                } else {
                    nextBtn.onclick = null;
                }
            }
        }

        // ë‹µì•ˆ ì„ íƒ
        function selectAnswer(isPhishing) {
            // ë‹µì•ˆ ì €ì¥
            userAnswers[currentQuestionIndex] = isPhishing;
            
            // í™”ë©´ ì—…ë°ì´íŠ¸ (ë²„íŠ¼ ìƒíƒœ ë“±)
            updateQuizDisplay();
        }

        // í‹€ë ¸ì„ ë•Œ ì¦‰ê°ì ì¸ í”¼ë“œë°± (ì§„ë™ + í•´ì„¤)
        function showInstantFeedback(question) {
            const messageArea = document.querySelector('.message-area');
            const explanationDiv = document.getElementById('instant-explanation');
            
            // ì§„ë™ íš¨ê³¼ - ë©”ì‹œì§€ ì˜ì—­ì— ì ìš©
            if (messageArea) {
                messageArea.classList.add('shake');
                setTimeout(() => {
                    messageArea.classList.remove('shake');
                }, 600);
            }
            
            // í•´ì„¤ í‘œì‹œ
            explanationDiv.innerHTML = `
                <div class="explanation-box">
                    <div class="flex items-center mb-3">
                        <span class="text-2xl mr-2">âš ï¸</span>
                        <h4 class="font-bold text-red-800">ì´ê²ƒì€ ìŠ¤ë¯¸ì‹±ì…ë‹ˆë‹¤!</h4>
                    </div>
                    
                    <div class="text-xs space-y-2">
                        <div>
                            <h5 class="font-bold mb-1 text-red-700">ğŸ” ìœ„í—˜ ì‹ í˜¸:</h5>
                            <ul class="text-red-600 space-y-1">
                                ${question.explanation.features.map(feature => 
                                    `<li class="flex items-start"><span class="mr-1">â€¢</span><span>${feature}</span></li>`
                                ).join('')}
                            </ul>
                        </div>
                        
                        <div class="bg-red-100 border border-red-300 rounded p-2">
                            <h5 class="font-bold mb-1 text-red-800">âš ï¸ ì£¼ì˜:</h5>
                            <p class="text-red-700">${question.explanation.warning}</p>
                        </div>
                        
                        <div class="bg-green-100 border border-green-300 rounded p-2">
                            <h5 class="font-bold mb-1 text-green-800">âœ… ì˜¬ë°”ë¥¸ ëŒ€ì²˜:</h5>
                            <p class="text-green-700">${question.explanation.action}</p>
                        </div>
                    </div>
                </div>
            `;
            
            explanationDiv.style.display = 'block';
        }

        // ë§ì•˜ì„ ë•Œ ê°„ë‹¨í•œ í”¼ë“œë°±
        function showCorrectFeedback() {
            const explanationDiv = document.getElementById('instant-explanation');
            
            explanationDiv.innerHTML = `
                <div class="bg-green-50 border-2 border-green-200 rounded-lg p-3 mt-4">
                    <div class="flex items-center justify-center">
                        <span class="text-2xl mr-2">âœ…</span>
                        <p class="font-bold text-green-800">ì •ë‹µì…ë‹ˆë‹¤! í›Œë¥­í•´ìš”!</p>
                    </div>
                </div>
            `;
            
            explanationDiv.style.display = 'block';
        }

        // ë‹¤ìŒ ë¬¸ì œ (ë‹¨ìˆœí™”ëœ ë²„ì „)
        function nextQuestion() {
            // ì´ í•¨ìˆ˜ëŠ” ë” ì´ìƒ ì§ì ‘ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ
            // updateNextButtonì—ì„œ onclickì„ ë™ì ìœ¼ë¡œ ì„¤ì •í•¨
            console.log('nextQuestion called directly - should not happen');
        }

        // ë¬¸ì œë³„ í”¼ë“œë°± í‘œì‹œ
        function showQuestionFeedback() {
            const question = quizData[currentQuestionIndex];
            const userAnswer = userAnswers[currentQuestionIndex];
            const isCorrect = userAnswer === question.isPhishing;
            
            console.log('showQuestionFeedback called:', {
                questionIndex: currentQuestionIndex,
                userAnswer: userAnswer,
                correctAnswer: question.isPhishing,
                isCorrect: isCorrect
            });
            
            if (!isCorrect) {
                console.log('Showing instant feedback for wrong answer');
                showInstantFeedback(question);
            } else {
                console.log('Correct answer - moving to next question immediately');
                // ì •ë‹µì¼ ê²½ìš° ë°”ë¡œ ë‹¤ìŒ ë¬¸ì œë¡œ ì´ë™
                if (currentQuestionIndex === quizData.length - 1) {
                    // ë§ˆì§€ë§‰ ë¬¸ì œì¸ ê²½ìš° ê²°ê³¼ í˜ì´ì§€ë¡œ
                    goToPage('page-explanation');
                } else {
                    // ë‹¤ìŒ ë¬¸ì œë¡œ ì´ë™
                    currentQuestionIndex++;
                    updateQuizDisplay();
                }
            }
        }

        // ì´ì „ ë¬¸ì œ
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                updateQuizDisplay();
            }
        }

        // í•´ì„¤ í˜ì´ì§€ í‘œì‹œ
        function showExplanations() {
            // ì´ í•¨ìˆ˜ëŠ” ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (í˜ì´ì§€ ë¶„í• ë¨)
        }

        // íˆ¬í‘œ ì„ íƒ
        function selectVote(vote) {
            selectedVote = vote;
            
            // ëª¨ë“  íˆ¬í‘œ ì˜µì…˜ ì´ˆê¸°í™”
            document.querySelectorAll('.vote-option').forEach(option => {
                option.classList.remove('bg-green-100', 'bg-yellow-100', 'bg-red-100');
                option.classList.remove('border-green-500', 'border-yellow-500', 'border-red-500');
            });
            
            // ì„ íƒëœ ì˜µì…˜ ê°•ì¡°
            event.target.closest('.vote-option').classList.add(
                vote === 'confident' ? 'bg-green-100' : 
                vote === 'moderate' ? 'bg-yellow-100' : 'bg-red-100'
            );
            event.target.closest('.vote-option').classList.add(
                vote === 'confident' ? 'border-green-500' : 
                vote === 'moderate' ? 'border-yellow-500' : 'border-red-500'
            );
            
            // ì ì‹œ í›„ ì™„ë£Œ í˜ì´ì§€ë¡œ ì´ë™ (ë§Œì¡±ë„ ì¡°ì‚¬ëŠ” ê¸°í”„í‹°ì½˜ ì‹ ì²­ ì‹œì—ë§Œ ì „ì†¡)
            setTimeout(() => {
                goToPage('page-complete');
                showCompletionMessage();
            }, 1000);
        }

        // ì™„ë£Œ ë©”ì‹œì§€ í‘œì‹œ
        function showCompletionMessage() {
            const messageContainer = document.getElementById('completion-message');
            let message = '';
            
            switch(selectedVote) {
                case 'confident':
                    message = `
                        <div class="text-center">
                            <p class="text-lg font-bold text-green-800 mb-2">í›Œë¥­í•´ìš”! ğŸ‰</p>
                            <p class="text-green-700">ì§€ê¸ˆì²˜ëŸ¼ë§Œ ì£¼ì˜í•˜ì‹œë©´ ìŠ¤ë¯¸ì‹±ìœ¼ë¡œë¶€í„° ì•ˆì „í•˜ê²Œ ë³´í˜¸ë°›ì„ ìˆ˜ ìˆì–´ìš”!</p>
                        </div>
                    `;
                    break;
                case 'moderate':
                    message = `
                        <div class="text-center">
                            <p class="text-lg font-bold text-yellow-800 mb-2">ì¢‹ì€ ìì„¸ì˜ˆìš”! ğŸ‘</p>
                            <p class="text-yellow-700">ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ì ‘ê·¼í•˜ëŠ” ìŠµê´€ì„ ê³„ì† ìœ ì§€í•˜ì‹œë©´ ë”ìš± ì•ˆì „í•  ê±°ì˜ˆìš”!</p>
                        </div>
                    `;
                    break;
                case 'unsure':
                    message = `
                        <div class="text-center">
                            <p class="text-lg font-bold text-blue-800 mb-2">ê´œì°®ì•„ìš”! ğŸ’ª</p>
                            <p class="text-blue-700">ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš©ì„ ê¸°ì–µí•˜ë©° ì²œì²œíˆ í™•ì¸í•˜ëŠ” ìŠµê´€ì„ ê¸°ë¥´ì‹œë©´ ë¼ìš”!</p>
                        </div>
                    `;
                    break;
                default:
                    message = `
                        <div class="text-center">
                            <p class="text-lg font-bold text-gray-800 mb-2">êµìœ¡ ì™„ë£Œ! âœ¨</p>
                            <p class="text-gray-700">ìŠ¤ë¯¸ì‹± ì˜ˆë°© êµìœ¡ì— ì°¸ì—¬í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!</p>
                        </div>
                    `;
            }
            
            messageContainer.innerHTML = message;
        }

        // ê¸°í”„í‹°ì½˜ ì‹ ì²­ í¼ ì²˜ë¦¬
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('gifticon-form');
            if (form) {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    // í¼ ì œì¶œì„ ë§‰ìŒ - íŒì—…ì„ í†µí•´ì„œë§Œ ì œì¶œ ê°€ëŠ¥
                });
            }
        });

        // ê°œì¸ì •ë³´ ë™ì˜ íŒì—… í‘œì‹œ
        function showPrivacyModal() {
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            
            if (!name || !phone) {
                alert('ì´ë¦„ê³¼ íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            document.getElementById('privacy-modal').style.display = 'flex';
            document.body.style.overflow = 'hidden'; // ë°°ê²½ ìŠ¤í¬ë¡¤ ë°©ì§€
        }

        // ê°œì¸ì •ë³´ ë™ì˜ íŒì—… ë‹«ê¸°
        function closePrivacyModal() {
            document.getElementById('privacy-modal').style.display = 'none';
            document.body.style.overflow = 'auto'; // ë°°ê²½ ìŠ¤í¬ë¡¤ ë³µì›
        }

        // ë™ì˜í•˜ê³  ì‹ ì²­í•˜ê¸°
        function agreeAndSubmit() {
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            
            if (name && phone) {
                // íŒì—… ë‹«ê¸°
                closePrivacyModal();
                
                // êµ¬ê¸€ í¼ì¦ˆë¡œ ë°ì´í„° ì „ì†¡
                submitToGoogleForm(name, phone);
            }
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.addEventListener('click', function(e) {
            const modal = document.getElementById('privacy-modal');
            if (e.target === modal) {
                closePrivacyModal();
            }
        });

        // êµ¬ê¸€ í¼ì¦ˆë¡œ ë°ì´í„° ì „ì†¡
        function submitToGoogleForm(name, phone) {
            // ë¡œë”© ìƒíƒœ í‘œì‹œ - íŒì—…ì˜ ë²„íŠ¼ì„ ì°¾ìŒ
            const submitBtn = document.querySelector('#privacy-modal button[onclick="agreeAndSubmit()"]');
            const originalText = submitBtn ? submitBtn.textContent : 'ë™ì˜í•˜ê³  ì‹ ì²­í•˜ê¸° ğŸ';
            
            if (submitBtn) {
                submitBtn.textContent = 'ì „ì†¡ ì¤‘...';
                submitBtn.disabled = true;
            }

            // êµ¬ê¸€ í¼ì¦ˆ URL (ì‹¤ì œ êµ¬ê¸€ í¼ ìƒì„± í›„ ì—¬ê¸°ì— ì…ë ¥)
            // ì˜ˆì‹œ: 'https://docs.google.com/forms/d/e/1FAIpQLSe_ABC123DEF456_GHI789JKL/formResponse'
            const GOOGLE_FORM_URL = 'https://docs.google.com/forms/d/e/1FAIpQLSd9LG6oOaQiDDX_xIi3e2wSIOlfEgo-_FvqGvmiBlSugPAoOQ/formResponse';
            
            // í˜„ì¬ ì‹œê°„ì„ í•œêµ­ ì‹œê°„ìœ¼ë¡œ í¬ë§·
            const now = new Date();
            const koreaTime = new Intl.DateTimeFormat('ko-KR', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                timeZone: 'Asia/Seoul'
            }).format(now);
            
            // ë§Œì¡±ë„ ê²°ê³¼ë¥¼ í•œêµ­ì–´ë¡œ ë³€í™˜
            const surveyResult = selectedVote === 'confident' ? 'ìì‹  ìˆì–´ìš”' : 
                               selectedVote === 'moderate' ? 'ì–´ëŠ ì •ë„ ìì‹  ìˆì–´ìš”' : 
                               selectedVote === 'unsure' ? 'ì•„ì§ ìì‹ ì´ ì—†ì–´ìš”' : 'ë¯¸ì„ íƒ';
            
            // êµ¬ê¸€ í¼ì˜ entry IDë“¤ (ì‹¤ì œ êµ¬ê¸€ í¼ ìƒì„± í›„ ì—¬ê¸°ì— ì…ë ¥)
            const formData = new FormData();
            formData.append('entry.1530675882', name);     // ì´ë¦„ í•„ë“œ entry ID
            formData.append('entry.1998518792', phone);    // íœ´ëŒ€í° ë²ˆí˜¸ í•„ë“œ entry ID
            formData.append('entry.1393168381', koreaTime); // ì œì¶œ ì‹œê°„ í•„ë“œ entry ID (ì„ íƒì‚¬í•­)
            formData.append('entry.1575475291', surveyResult); // ë§Œì¡±ë„ ì¡°ì‚¬ ê²°ê³¼ entry ID (í•œêµ­ì–´)

            console.log('ì „ì†¡í•  ë°ì´í„°:', {
                ì´ë¦„: name,
                íœ´ëŒ€í°: phone,
                ì œì¶œì‹œê°„: koreaTime,
                ë§Œì¡±ë„: surveyResult
            });

            // êµ¬ê¸€ í¼ìœ¼ë¡œ ë°ì´í„° ì „ì†¡
            fetch(GOOGLE_FORM_URL, {
                method: 'POST',
                mode: 'no-cors',
                body: formData
            }).then(() => {
                // ì„±ê³µ ì²˜ë¦¬
                alert('ê¸°í”„í‹°ì½˜ ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\n1ì¼ ë‚´ë¡œ ë¬¸ìë¡œ ë°œì†¡ë  ì˜ˆì •ì…ë‹ˆë‹¤.');
                document.getElementById('gifticon-form').reset();
                
                // ë²„íŠ¼ ìƒíƒœ ë³µì›
                if (submitBtn) {
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }
            }).catch((error) => {
                // ì˜¤ë¥˜ ì²˜ë¦¬
                console.error('ì „ì†¡ ì˜¤ë¥˜:', error);
                alert('ì‹ ì²­ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                
                // ë²„íŠ¼ ìƒíƒœ ë³µì›
                if (submitBtn) {
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }
            });
        }
    </script>

</body>
</html>
